# FinShark 文件規範檢查報告

> **文件名稱**: 文件規範檢查報告
> **版本**: v1.1
> **檢查日期**: 2026-01-15
> **狀態**: Active
> **檢查者**: studio-producer

---

## 1. 檢查依據

依據 `docs/specs/technical/00-文件製作指南.md` 進行檢查。

**重要說明**: 文件已從單一合併文件拆分為多個獨立專屬文件，各文件應從 `## 1.` 開始編號。

---

## 2. 文件完整性檢查

### 2.1 各模組文件覆蓋率

| 模組 | 功能需求 | API規格 | 資料庫設計 | 業務流程 | Job排程 | ERD | 效能考量 | 測試準則 |
|-----|:-------:|:-------:|:---------:|:-------:|:------:|:---:|:-------:|:-------:|
| M06 | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| M07 | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| M08 | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| M09 | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| M10 | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| M11 | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| M12 | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| M13 | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| M14 | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |
| M15 | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ | ✅ |

**結果**: ✅ 全部到位

---

## 3. 問題清單

### 3.1 章節編號問題（歷史遺留）

**背景**: M06-M08 原本寫在單一合併文件中，後來拆分為獨立文件時，保留了原本的章節編號。

**正確格式**: 獨立文件應從 `## 1.` 開始

| 模組範圍 | 目前格式 | 狀態 |
|---------|---------|:----:|
| M06-M08 | 使用 `## 3.`、`## 4.`、`## 6.` 等 | ❌ 需修正 |
| M09-M15 | 使用 `## 1.` 開始 | ✅ 正確 |

**需修正檔案**:
- `docs/design/M06-資料庫設計.md` - 將 `## 3.` 改為 `## 1.`
- `docs/design/M07-資料庫設計.md` - 將 `## 3.` 改為 `## 1.`
- `docs/design/M08-資料庫設計.md` - 將 `## 3.` 改為 `## 1.`
- `docs/specs/api/M06-API規格.md` - 將 `## 4.` 改為 `## 1.`
- `docs/specs/api/M07-API規格.md` - 將 `## 4.` 改為 `## 1.`
- `docs/specs/api/M08-API規格.md` - 將 `## 4.` 改為 `## 1.`
- `docs/deployment/M06-Job排程配置.md` - 將 `## 6.` 改為 `## 1.`
- `docs/deployment/M07-Job排程配置.md` - 將 `## 6.` 改為 `## 1.`
- `docs/deployment/M08-Job排程配置.md` - 將 `## 6.` 改為 `## 1.`

---

### 3.2 功能需求文件編號格式不一致

| 模組範圍 | 使用格式 |
|---------|---------|
| M06-M08 | `SPEC-FUNC-M{XX}` |
| M09-M15 | `FUNC-M{XX}` |

**建議**: 統一使用 `FUNC-M{XX}` 格式（較簡潔）

---

### 3.3 全系統契約引用聲明

**規範要求**: API/Job 文件需聲明遵守全系統契約

| 模組 | API規格引用 | Job排程引用 |
|-----|:----------:|:----------:|
| M06-M08 | ✅ 有引用 | ✅ 有引用 |
| M09-M15 | ⚠️ 需確認補充 | ⚠️ 需確認補充 |

---

## 4. 待辦修正項目

### 4.1 High Priority

| # | 項目 | 影響檔案 | 修正內容 |
|---|-----|---------|---------|
| 1 | 章節編號統一 | M06-M08 資料庫設計 (3個) | 將 `## 3.` 改為 `## 1.` |
| 2 | 章節編號統一 | M06-M08 API規格 (3個) | 將 `## 4.` 改為 `## 1.` |
| 3 | 章節編號統一 | M06-M08 Job排程 (3個) | 將 `## 6.` 改為 `## 1.` |

### 4.2 Medium Priority

| # | 項目 | 影響檔案 | 修正內容 |
|---|-----|---------|---------|
| 4 | 文件編號統一 | M06-M08 功能需求 (3個) | 將 `SPEC-FUNC-` 改為 `FUNC-` |
| 5 | 契約引用聲明 | M09-M15 API規格 (7個) | 加入全系統契約引用 |
| 6 | 契約引用聲明 | M09-M15 Job排程 (7個) | 加入全系統契約引用 |

---

## 5. 修正範例

### 5.1 章節編號修正 (M06-M08)

**修正前** (M06-資料庫設計.md):
```markdown
## 3. 資料設計

### 3.1 資料表清單
### 3.2 資料表設計
```

**修正後**:
```markdown
## 1. 資料表清單

## 2. 資料表設計
```

### 5.2 契約引用聲明 (M09-M15)

**API規格文件開頭加入**:
```markdown
> **重要**: 所有 API 必須遵守 [全系統契約 - API 統一規範](../technical/00-全系統契約.md#4-api-統一規範)
```

**Job排程文件開頭加入**:
```markdown
> **重要**: 所有 Job 必須遵守 [全系統契約 - Job 模型規範](../technical/00-全系統契約.md#5-job-模型規範)
```

---

## 6. 檢查結論

| 檢查項目 | 結果 | 說明 |
|---------|:----:|------|
| 文件完整性 | ✅ Pass | 所有模組文件齊全 |
| Header 格式 | ⚠️ 部分不一致 | M06-M08 文件編號需統一 |
| 章節編號 | ❌ 需修正 | M06-M08 需改為從 `## 1.` 開始 |
| 契約引用 | ⚠️ 需補充 | M09-M15 需加入引用聲明 |
| DDL 完整性 | ✅ Pass | 有 CREATE TABLE 語法 |
| ASCII 流程圖 | ✅ Pass | 業務流程有使用 |

---

## 7. 修正統計

| 優先級 | 檔案數量 | 說明 |
|-------|:-------:|------|
| High | 9 個 | M06-M08 章節編號修正 |
| Medium | 17 個 | 文件編號統一 + 契約引用補充 |
| **總計** | **26 個** | |

---

**整體評估**: 🔄 大致符合，M06-M08 需修正章節編號

---

**文件維護者**: studio-producer
**下次審核**: 2026-01-22
