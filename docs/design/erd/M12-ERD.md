# M12-ç¸½ç¶“èˆ‡ç”¢æ¥­åˆ†ææ¨¡çµ„ ERD

> **æ–‡ä»¶ç·¨è™Ÿ**: ERD-M12
> **æ¨¡çµ„åç¨±**: ç¸½ç¶“èˆ‡ç”¢æ¥­åˆ†ææ¨¡çµ„
> **ç‰ˆæœ¬**: v1.0
> **æœ€å¾Œæ›´æ–°**: 2026-01-14
> **ç‹€æ…‹**: Draft

---

## 1. ERD ç¸½è¦½

### 1.1 Mermaid ERD åœ–

```mermaid
erDiagram
    %% ==================== ç¸½ç¶“æŒ‡æ¨™å€å¡Š ====================
    macro_indicators {
        varchar indicator_code PK "æŒ‡æ¨™ä»£ç¢¼"
        varchar indicator_name "æŒ‡æ¨™åç¨±"
        varchar region "åœ°å€"
        varchar category "é¡åˆ¥"
        varchar unit "å–®ä½"
        varchar frequency "æ›´æ–°é »ç‡"
        varchar source "è³‡æ–™ä¾†æº"
        boolean is_active "æ˜¯å¦å•Ÿç”¨"
    }

    macro_indicator_values {
        bigint id PK "æµæ°´è™Ÿ"
        varchar indicator_code FK "æŒ‡æ¨™ä»£ç¢¼"
        date value_date "æ•¸å€¼æ—¥æœŸ"
        decimal value "æ•¸å€¼"
        decimal previous_value "å‰æœŸæ•¸å€¼"
        decimal change_percent "è®Šå‹•ç‡"
        boolean is_preliminary "æ˜¯å¦åˆå€¼"
    }

    economic_cycles {
        bigint cycle_id PK "é€±æœŸID"
        varchar cycle_stage "é€±æœŸéšæ®µ"
        varchar stage_name "éšæ®µåç¨±"
        date start_date "é–‹å§‹æ—¥æœŸ"
        date end_date "çµæŸæ—¥æœŸ"
        decimal confidence "ä¿¡å¿ƒåº¦"
        jsonb key_indicators "é—œéµæŒ‡æ¨™"
        boolean is_current "æ˜¯å¦ç•¶å‰"
    }

    %% ==================== ç”¢æ¥­åˆ†é¡å€å¡Š ====================
    sectors {
        varchar sector_code PK "ç”¢æ¥­ä»£ç¢¼"
        varchar sector_name "ç”¢æ¥­åç¨±"
        int level "åˆ†é¡å±¤ç´š"
        varchar parent_code FK "çˆ¶åˆ†é¡ä»£ç¢¼"
        varchar classification_type "åˆ†é¡é«”ç³»"
        boolean is_active "æ˜¯å¦å•Ÿç”¨"
    }

    stock_classifications {
        bigint id PK "æµæ°´è™Ÿ"
        varchar stock_id FK "è‚¡ç¥¨ä»£ç¢¼"
        varchar sector_code FK "ç”¢æ¥­ä»£ç¢¼"
        varchar classification_type "åˆ†é¡é«”ç³»"
        boolean is_primary "æ˜¯å¦ä¸»åˆ†é¡"
        date effective_date "ç”Ÿæ•ˆæ—¥æœŸ"
        date end_date "çµæŸæ—¥æœŸ"
    }

    %% ==================== ä¸»é¡Œåˆ†é¡å€å¡Š ====================
    themes {
        varchar theme_code PK "ä¸»é¡Œä»£ç¢¼"
        varchar theme_name "ä¸»é¡Œåç¨±"
        text description "èªªæ˜"
        boolean is_active "æ˜¯å¦å•Ÿç”¨"
    }

    theme_stocks {
        bigint id PK "æµæ°´è™Ÿ"
        varchar theme_code FK "ä¸»é¡Œä»£ç¢¼"
        varchar stock_id FK "è‚¡ç¥¨ä»£ç¢¼"
        text inclusion_reason "ç´å…¥åŸå› "
        decimal weight "æ¬Šé‡"
        date effective_date "ç”Ÿæ•ˆæ—¥æœŸ"
    }

    %% ==================== ç”¢æ¥­ç¸¾æ•ˆå€å¡Š ====================
    sector_performance {
        bigint id PK "æµæ°´è™Ÿ"
        varchar sector_code FK "ç”¢æ¥­ä»£ç¢¼"
        date trade_date "äº¤æ˜“æ—¥æœŸ"
        decimal return_1d "å–®æ—¥å ±é…¬"
        decimal return_20d "æœˆå ±é…¬"
        decimal momentum_20d "20æ—¥å‹•èƒ½"
        decimal relative_strength "ç›¸å°å¼·åº¦"
        int return_rank "å ±é…¬æ’å"
        int momentum_rank "å‹•èƒ½æ’å"
        bigint total_market_cap "ç¸½å¸‚å€¼"
    }

    sector_valuation {
        bigint id PK "æµæ°´è™Ÿ"
        varchar sector_code FK "ç”¢æ¥­ä»£ç¢¼"
        date trade_date "äº¤æ˜“æ—¥æœŸ"
        decimal pe_ratio "æœ¬ç›Šæ¯”"
        decimal pe_percentile "PEç™¾åˆ†ä½"
        decimal pb_ratio "è‚¡åƒ¹æ·¨å€¼æ¯”"
        decimal dividend_yield "è‚¡åˆ©ç‡"
        varchar valuation_signal "ä¼°å€¼ä¿¡è™Ÿ"
    }

    %% ==================== ä¿¡è™Ÿå€å¡Š ====================
    industry_signals {
        varchar signal_id PK "ä¿¡è™ŸID"
        varchar signal_type "ä¿¡è™Ÿé¡å‹"
        varchar signal_code "ä¿¡è™Ÿä»£ç¢¼"
        varchar target_type "ç›®æ¨™é¡å‹"
        varchar target_id "ç›®æ¨™ID"
        date signal_date "ä¿¡è™Ÿæ—¥æœŸ"
        jsonb signal_value "ä¿¡è™Ÿæ•¸å€¼"
        decimal confidence_score "ä¿¡å¿ƒåˆ†æ•¸"
        boolean is_consumed "æ˜¯å¦å·²æ¶ˆè²»"
        timestamp consumed_at "æ¶ˆè²»æ™‚é–“"
    }

    %% ==================== å¤–éƒ¨ä¾è³´ (M06) ====================
    stocks {
        varchar stock_id PK "è‚¡ç¥¨ä»£ç¢¼"
        varchar stock_name "è‚¡ç¥¨åç¨±"
        bigint market_cap "å¸‚å€¼"
    }

    %% ==================== é—œè¯å®šç¾© ====================
    macro_indicators ||--o{ macro_indicator_values : "has values"
    sectors ||--o{ sectors : "parent-child"
    sectors ||--o{ stock_classifications : "classifies"
    sectors ||--o{ sector_performance : "has performance"
    sectors ||--o{ sector_valuation : "has valuation"
    themes ||--o{ theme_stocks : "contains"
    stocks ||--o{ stock_classifications : "classified by"
    stocks ||--o{ theme_stocks : "belongs to theme"
```

---

## 2. å¯¦é«”é—œè¯èªªæ˜

### 2.1 ç¸½ç¶“æŒ‡æ¨™ç¾¤çµ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ macro_indicators   â”‚
â”‚ (ç¸½ç¶“æŒ‡æ¨™å®šç¾©)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK: indicator_code â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 1:N
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ macro_indicator_values â”‚
â”‚ (ç¸½ç¶“æŒ‡æ¨™æ­·å²å€¼)       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK: id                 â”‚
â”‚ FK: indicator_code     â”‚
â”‚ UK: (indicator_code,   â”‚
â”‚     value_date)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ economic_cycles    â”‚
â”‚ (ç¶“æ¿Ÿé€±æœŸè¨˜éŒ„)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK: cycle_id       â”‚
â”‚ ç¨ç«‹è¡¨ï¼Œè¨˜éŒ„é€±æœŸ   â”‚
â”‚ åˆ¤æ–·æ­·å²           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é—œè¯èªªæ˜**:
- `macro_indicators` èˆ‡ `macro_indicator_values` ç‚º 1:N é—œä¿‚
- æ¯å€‹ç¸½ç¶“æŒ‡æ¨™æœ‰å¤šç­†æ­·å²æ•¸å€¼è¨˜éŒ„
- `economic_cycles` ç‚ºç¨ç«‹è¡¨ï¼Œè¨˜éŒ„ç¶“æ¿Ÿé€±æœŸåˆ¤æ–·çµæœ

---

### 2.2 ç”¢æ¥­åˆ†é¡ç¾¤çµ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     sectors        â”‚â—„â”€â”€â”€â”€â”€â”€â”
â”‚ (ç”¢æ¥­åˆ†é¡å®šç¾©)     â”‚       â”‚ è‡ªåƒç…§
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”‚ (parent-child)
â”‚ PK: sector_code    â”‚â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ FK: parent_code    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 1:N
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ stock_classifications  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”‚      stocks        â”‚
â”‚ (è‚¡ç¥¨ç”¢æ¥­åˆ†é¡)         â”‚   N:1   â”‚   (M06 è‚¡ç¥¨è³‡æ–™)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK: id                 â”‚         â”‚ PK: stock_id       â”‚
â”‚ FK: sector_code        â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ FK: stock_id           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


         sectors
            â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
    â”‚               â”‚
    â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ sector_       â”‚ â”‚ sector_          â”‚
â”‚ performance   â”‚ â”‚ valuation        â”‚
â”‚ (ç”¢æ¥­ç¸¾æ•ˆ)    â”‚ â”‚ (ç”¢æ¥­ä¼°å€¼)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é—œè¯èªªæ˜**:
- `sectors` æ”¯æ´è‡ªåƒç…§ï¼Œå¯¦ç¾å¤šå±¤ç´šç”¢æ¥­åˆ†é¡
- `stock_classifications` ç‚º M:N ä¸­é–“è¡¨ï¼Œé€£æ¥è‚¡ç¥¨èˆ‡ç”¢æ¥­
- åŒä¸€è‚¡ç¥¨å¯å±¬æ–¼å¤šå€‹ç”¢æ¥­ï¼ˆä¸»åˆ†é¡ + æ¬¡åˆ†é¡ï¼‰
- `sector_performance` èˆ‡ `sector_valuation` æ¯æ—¥è¨˜éŒ„å„ç”¢æ¥­æ•¸æ“š

---

### 2.3 ä¸»é¡Œåˆ†é¡ç¾¤çµ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      themes        â”‚
â”‚ (ä¸»é¡Œå®šç¾©)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK: theme_code     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ 1:N
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   theme_stocks     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”‚      stocks        â”‚
â”‚ (ä¸»é¡Œæˆåˆ†è‚¡)       â”‚   N:1   â”‚   (M06 è‚¡ç¥¨è³‡æ–™)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK: id             â”‚         â”‚ PK: stock_id       â”‚
â”‚ FK: theme_code     â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ FK: stock_id       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é—œè¯èªªæ˜**:
- `themes` èˆ‡ `theme_stocks` ç‚º 1:N é—œä¿‚
- åŒä¸€è‚¡ç¥¨å¯å±¬æ–¼å¤šå€‹ä¸»é¡Œ
- ä¸»é¡Œåˆ†é¡ç¨ç«‹æ–¼è­‰äº¤æ‰€ç”¢æ¥­åˆ†é¡

---

### 2.4 ä¿¡è™Ÿè¼¸å‡ºç¾¤çµ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   industry_signals     â”‚
â”‚ (ç”¢æ¥­ä¿¡è™Ÿè¨˜éŒ„)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ PK: signal_id          â”‚
â”‚                        â”‚
â”‚ target_type:           â”‚
â”‚   - SECTOR  â†’ sectors  â”‚
â”‚   - THEME   â†’ themes   â”‚
â”‚   - MACRO   â†’ ç¸½ç¶“æŒ‡æ¨™ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ ä¾› M13 æ¶ˆè²»
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     M13 ä¿¡è™Ÿå¼•æ“       â”‚
â”‚ (ä¸‹æ¸¸æ¶ˆè²»è€…)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é—œè¯èªªæ˜**:
- `industry_signals` ä½¿ç”¨ `target_type` + `target_id` å¤šå‹é—œè¯
- å¯æŒ‡å‘ SECTORï¼ˆç”¢æ¥­ï¼‰ã€THEMEï¼ˆä¸»é¡Œï¼‰æˆ– MACROï¼ˆç¸½ç¶“æŒ‡æ¨™ï¼‰
- `is_consumed` æ¨™è¨˜æ˜¯å¦å·²è¢« M13 æ¶ˆè²»

---

## 3. è·¨æ¨¡çµ„ä¾è³´é—œä¿‚

### 3.1 ä¾è³´åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          M12 ç¸½ç¶“ç”¢æ¥­åˆ†æ                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      M06        â”‚  â”‚      M08        â”‚  â”‚      M13        â”‚
â”‚    è³‡æ–™ç®¡ç†     â”‚  â”‚   åŸºæœ¬é¢åˆ†æ    â”‚  â”‚    ä¿¡è™Ÿå¼•æ“     â”‚
â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚
â”‚ æä¾›:           â”‚  â”‚ æä¾›:           â”‚  â”‚ æ¶ˆè²»:           â”‚
â”‚ - stocks        â”‚  â”‚ - è²¡å‹™æŒ‡æ¨™      â”‚  â”‚ - industry_     â”‚
â”‚ - stock_prices  â”‚  â”‚ - PE, PB, ROE   â”‚  â”‚   signals       â”‚
â”‚ - trading_      â”‚  â”‚   (ä¼°å€¼è¨ˆç®—ç”¨)  â”‚  â”‚                 â”‚
â”‚   calendar      â”‚  â”‚                 â”‚  â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 ä¾è³´è³‡æ–™è¡¨

| ä¾†æºæ¨¡çµ„ | è³‡æ–™è¡¨ | ç”¨é€” |
|---------|-------|------|
| M06 | stocks | è‚¡ç¥¨åŸºæœ¬è³‡æ–™ã€å¸‚å€¼ |
| M06 | stock_prices | è‚¡åƒ¹è³‡æ–™ï¼ˆè¨ˆç®—ç”¢æ¥­ç¸¾æ•ˆï¼‰ |
| M06 | trading_calendar | äº¤æ˜“æ—¥æ›† |
| M08 | fundamental_indicators | PEã€PB ç­‰ä¼°å€¼æŒ‡æ¨™ï¼ˆç”¢æ¥­ä¼°å€¼ï¼‰ |

---

## 4. è³‡æ–™æµå‘åœ–

### 4.1 ç¸½ç¶“è³‡æ–™æµ

```
å¤–éƒ¨è³‡æ–™ä¾†æº                    M12 å„²å­˜                    M13 æ¶ˆè²»
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ä¸»è¨ˆç¸½è™• â”€â”€â”
å¤®è¡Œ â”€â”€â”€â”€â”€â”€â”¤      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
è²¡æ”¿éƒ¨ â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â–¶â”‚ macro_indicator_  â”‚
åœ‹ç™¼æœƒ â”€â”€â”€â”€â”¤      â”‚ values            â”‚
Fed â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ ç¶“æ¿Ÿé€±æœŸåˆ¤æ–·       â”‚
                   â”‚ (MacroAnalyzer)    â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â–¼                              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ economic_cycles â”‚           â”‚ industry_signals â”‚
    â”‚ (é€±æœŸè¨˜éŒ„)      â”‚           â”‚ (MACRO_* ä¿¡è™Ÿ)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚
                                           â–¼
                                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                  â”‚     M13        â”‚
                                  â”‚   ä¿¡è™Ÿå¼•æ“     â”‚
                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.2 ç”¢æ¥­åˆ†æè³‡æ–™æµ

```
M06 è³‡æ–™                     M12 è™•ç†                     M12 è¼¸å‡º
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

stocks â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
stock_prices â”€â”€â”€â”¼â”€â”€â”€â–¶â”‚ ç”¢æ¥­ç¸¾æ•ˆè¨ˆç®—          â”‚
                â”‚    â”‚ (IndustryAnalyzer)    â”‚
sectors â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼                         â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚ sector_         â”‚      â”‚ sector_          â”‚
          â”‚ performance     â”‚      â”‚ valuation        â”‚
          â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                   â”‚                         â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ ç”¢æ¥­è¼ªå‹•åˆ†æ         â”‚
                   â”‚ (RotationAnalyzer)   â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚ industry_signals     â”‚
                   â”‚ (INDUSTRY_* ä¿¡è™Ÿ)    â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚        M13           â”‚
                   â”‚      ä¿¡è™Ÿå¼•æ“        â”‚
                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. ç´¢å¼•è¨­è¨ˆæ‘˜è¦

### 5.1 ä¸»è¦ç´¢å¼•

| è³‡æ–™è¡¨ | ç´¢å¼•åç¨± | ç´¢å¼•æ¬„ä½ | ç”¨é€” |
|-------|---------|---------|------|
| macro_indicator_values | idx_macro_values_composite | (indicator_code, value_date DESC) | æŒ‡æ¨™æ­·å²æŸ¥è©¢ |
| sector_performance | idx_sector_perf_composite | (sector_code, trade_date DESC) | ç”¢æ¥­ç¸¾æ•ˆæŸ¥è©¢ |
| sector_performance | idx_sector_perf_return_rank | (trade_date, return_rank) | æ’è¡Œæ¦œæŸ¥è©¢ |
| sector_valuation | idx_sector_val_signal | (trade_date, valuation_signal) | ä¼°å€¼ä¿¡è™Ÿç¯©é¸ |
| industry_signals | idx_ind_signals_unconsumed | (signal_date, is_consumed) | M13 æ¶ˆè²»æŸ¥è©¢ |
| stock_classifications | idx_stock_class_active | (stock_id, sector_code) WHERE end_date IS NULL | æœ‰æ•ˆåˆ†é¡æŸ¥è©¢ |

---

## 6. è³‡æ–™é‡ä¼°ç®—

| è³‡æ–™è¡¨ | æ¯æ—¥æ–°å¢ | æ¯å¹´ç´¯ç© | 5 å¹´ç¸½é‡ |
|-------|---------|---------|---------|
| macro_indicator_values | ~10 ç­† | ~3,000 ç­† | ~15,000 ç­† |
| economic_cycles | ~0.1 ç­† | ~2 ç­† | ~10 ç­† |
| sector_performance | ~50 ç­† | ~12,500 ç­† | ~62,500 ç­† |
| sector_valuation | ~50 ç­† | ~12,500 ç­† | ~62,500 ç­† |
| industry_signals | ~10 ç­† | ~2,500 ç­† | ~12,500 ç­† |

**å„²å­˜ç©ºé–“ä¼°ç®—**: ç´„ 500 MBï¼ˆå«ç´¢å¼•ï¼‰

---

## ğŸ“š ç›¸é—œæ–‡æª”

- [M12 è³‡æ–™åº«è¨­è¨ˆ](../M12-è³‡æ–™åº«è¨­è¨ˆ.md)
- [M12 åŠŸèƒ½éœ€æ±‚](../../specs/functional/M12-ç¸½ç¶“ç”¢æ¥­åˆ†æåŠŸèƒ½éœ€æ±‚.md)
- [M06 ERD](./M06-ERD.md)
- [M08 ERD](./M08-ERD.md)
- [M13 ERD](./M13-ERD.md)

---

**æ–‡ä»¶ç¶­è­·è€…**: è³‡æ–™åº«ç®¡ç†å“¡
**æœ€å¾Œæ›´æ–°**: 2026-01-14
**ä¸‹æ¬¡å¯©æ ¸**: 2026-04-14
